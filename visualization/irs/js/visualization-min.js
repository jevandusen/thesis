function drawStoryOptions(){d3.json("js/data/stories/stories.json",function(e){for(var t=0;t<e.stories.length;t++){var o=d3.select("#stories-select").append("div").attr("class","story-option-container").attr("id",e.stories[t].id).on("click",function(e,t){storyID=d3.select(this).attr("id"),d3.selectAll(".story-option-container").transition().duration(200).ease(d3.easeLinear).style("opacity",.1),d3.select("#"+storyID).transition().duration(200).ease(d3.easeLinear).style("opacity",1),console.log(storyID),drawStory(storyID)});d3.select("#"+e.stories[t].id).append("div").attr("class","story-option-circle").attr("id","story-option"+t).style("background","linear-gradient(rgba(241, 90, 36, 0.25),rgba(241, 90, 36, 0.25)), url('js/data/stories/images/"+e.stories[t].picture+"'), rgb(241, 90, 36)").style("background-size","10em");d3.select("#"+e.stories[t].id).append("div").attr("class","story-label").html("<p class='story-option-name'>"+e.stories[t].name+"</p><p class='story-option-quote'>&ldquo;"+e.stories[t].pull+"&rdquo;</p>")}})}function drawStory(e){d3.select(".name").remove(),d3.select(".bio").remove(),d3.json("js/data/stories/stories.json",function(t){var o=t.stories.filter(function(t){return t.id==e});o=o[0];var r=d3.select("#storyName").append("h1").attr("class","name").html("<span class='storyName'>"+o.name+"</span>"),s=d3.select("#storyBio").append("p").attr("class","bio").html(o.bio)})}var controller=new ScrollMagic.Controller;TweenLite.defaultOverwrite=!1,window.onload=drawStoryOptions;var storyID="bbaxter";$(function(){$.scrollify({section:"section",sectionName:"chapter-name",interstitialSection:"",easing:"easeOutExpo",scrollSpeed:1100,offset:0,scrollbars:!0,standardScrollElements:".free-scroll",setHeights:!1,overflowScroll:!0,updateHash:!0,touchScroll:!0,before:function(){},after:function(){},afterResize:function(){},afterRender:function(){}})}),jQuery("#stories-select").draggable({axis:"x",cursor:"move",containment:"stories"});var drawStory_s=new ScrollMagic.Scene({triggerElement:"#p4"}).on("enter",function(e){drawStory(storyID)}).triggerHook("onEnter").addIndicators({name:"drawStory"}).addTo(controller),storyName_FI_t=TweenMax.to("#storyName",1,{opacity:"1.0"}),storyName_FI_s=new ScrollMagic.Scene({triggerElement:"#storyNameFI"}).triggerHook("onLeave").setTween(storyName_FI_t).addIndicators({name:"storyName_FI_s"}).addTo(controller),storyName_p=new ScrollMagic.Scene({triggerElement:"#p5",duration:"50%"}).triggerHook("onLeave").setPin("#storyName").addIndicators({name:"storyName_pin"}).addTo(controller);