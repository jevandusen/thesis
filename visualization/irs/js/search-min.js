function Demo(t){""===t?(drawStory("aelias"),pageSix("Albert Elias")):d3.json("js/data/search_terms.json",function(e){var s=e.searchTerms.filter(function(e){return e.name.toLowerCase()===t.toLowerCase()});s=s[0];var n=s.id;"story"===s.type&&(drawStory(n),pageSix(t),document.querySelector("#p5").scrollIntoView({behavior:"smooth"}),d3.selectAll(".story-option-container").transition().duration(200).ease(d3.easeLinear).style("opacity",.1),d3.select("#"+n).transition().duration(200).ease(d3.easeLinear).style("opacity",1))})}!function($){$.fn.suggest=function(t,e){var s=$.extend({suggestionColor:"#ccc",moreIndicatorClass:"suggest-more",moreIndicatorText:"&hellip;"},e);return this.each(function(){$this=$(this);var e=$("<div/>",{css:{fontFamily:$this.css("fontFamily"),fontSize:$this.css("fontSize"),fontStyle:$this.css("fontStyle"),lineHeight:$this.css("lineHeight"),fontWeight:$this.css("fontWeight"),letterSpacing:$this.css("letterSpacing"),backgroundColor:$this.css("backgroundColor"),color:s.suggestionColor,fontKerning:$this.css("fontKerning"),textAlign:"left",zIndex:"100"}});e.addClass("suggest");var n=$("<span/>",{css:{position:"absolute",top:e.height()+parseInt($this.css("fontSize"),10)/2,left:e.width(),display:"block",fontSize:$this.css("fontSize"),fontFamily:$this.css("fontFamily"),color:s.suggestionColor},class:s.moreIndicatorClass}).html(s.moreIndicatorText).hide();$this.attr({autocomplete:"off",spellcheck:"false",dir:"ltr"}).css({background:"transparent"}).wrap($("<div/>",{css:{position:"relative",paddingBottom:"1em"}})).bind("keydown.suggest",function(t){var s=t.keyCode?t.keyCode:t.which;if(9!=s||t.altKey){if(13==s)e.is(":empty")||t.preventDefault();else if(38==s||40==s){t.preventDefault();var n=$(this).data("suggestions");n.all.length>1&&(40==s&&n.index<n.all.length-1?n.suggest.html(n.all[++n.index]):38==s&&n.index>0&&n.suggest.html(n.all[--n.index]),$(this).data("suggestions").index=n.index)}}else t.preventDefault()}).bind("keyup.suggest",function(s){var i=s.keyCode?s.keyCode:s.which;if(38==i||40==i)return!1;n.hide();var o=$(this).val(),a=o.replace(" ","&nbsp;");if((9==i||13==i)&&e.text().length>0){s.preventDefault();var r=$(this).data("suggestions");return $(this).val(r.terms[r.index]),e.empty(),!1}if(e.empty(),!$.trim(o).length)return!1;for(var l=new RegExp("^"+o.replace(/[-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"i"),r=[],c=[],h=0,g=t;h<g.length;h++)l.test(g[h])&&(c.push(g[h]),r.push(a+g[h].slice(o.length)));r.length>0&&(r[0]!==o&&e.html(r[0]),$(this).data("suggestions",{all:r,terms:c,index:0,suggest:e}),r.length>1&&n.show())}).bind("blur.suggest",function(){e.empty()}),e.insertAfter($this),n.insertAfter(e)})},$.fn.cssShortForAllSides=function(t){var e=$(this),s=[],n=$.map(["Top","Right","Bottom","Left"],function(e){return t+e});return $.each(n,function(t,n){s.push(e.css(n)||"0")}),s.join(" ")}}(jQuery);var haystack=["Bob Baxter","Albert Elias","Lynda Pahpasay McDonald","Mabel Brown","Emily Kematch","Anthony Henry","Albert Fiddler","Doris Young","Delores Adolph","Martha Loon","Richard Hall","Noel Starblanket","Patrick James Hall","Isaac Daniels","Donna Antoine"];$(function(){$("#search").suggest(haystack,{suggestionColor:"#cccccc",moreIndicatorClass:"suggest-more",moreIndicatorText:""})}),$("#search").on("change",function(){Demo($(this).val())});